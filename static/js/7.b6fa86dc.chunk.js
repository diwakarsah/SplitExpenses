(this.webpackJsonpbill_splitter_v1=this.webpackJsonpbill_splitter_v1||[]).push([[7,14,16],{110:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(114),l=a(106),c=a(16),r=a(0),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=Object(r.useState)(t),o=Object(c.a)(s,2),i=o[0],u=o[1],m=Object(r.useState)({}),d=Object(c.a)(m,2),b=d[0],p=d[1],E=function(e){u(Object(l.a)({},i,Object(n.a)({},e.target.name,e.target.value))),e.target.name&&delete b[e.target.name]},f=function(e){u(e)},g=function(n){n.preventDefault(),0===Object.keys(a(i)).length?(e(n.target.value),u(t),p({})):p(a(i))};return{handleSubmit:g,handleOnChange:E,changeFormField:f,error:b,formField:i}}},111:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return b}));var n=a(131),l=a(146),c=a.n(l),r=a(208),s=a(151),o=a.n(s),i=a(0),u=a.n(i),m=Object(n.a)((function(e){return{tooltip:{backgroundColor:"#267c39",color:"white",boxShadow:e.shadows[1],fontSize:12}}}))(c.a),d=Object(n.a)((function(e){return{tooltip:{backgroundColor:"red",color:"white",boxShadow:e.shadows[1],fontSize:12}}}))(c.a),b=Object(n.a)({root:{color:r.a[400],"&$checked":{color:r.a[600]}},checked:{}})((function(e){return u.a.createElement(o.a,Object.assign({color:"default"},e))}))},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(16),l=a(0),c=function(){var e="object"===typeof window,t=function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}},a=Object(l.useState)(t),c=Object(n.a)(a,2),r=c[0],s=c[1];return Object(l.useEffect)((function(){if(!e)return!1;var a=function(){s(t())};return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),r}},119:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return r}));var n=function(e){var t={};return e.password!==e.confirmPassword&&(t.confirmPassword="Confirm Password didn't match"),""===e.fullName?t.fullName="Please enter the name !!":isNaN(e.fullName)||(t.fullName="Enter valid name"),""===e.phoneNumber?t.phoneNumber="Please enter the phone number !!":e.phoneNumber.length>15&&(t.phoneNumber="Please Enter valid phone number"),""===e.userName?t.userName="Please enter the userName !!":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.userName)||(t.userName="Please use valid email address "),""===e.password?t.password="Please enter the password !!":e.password.length<=6&&(t.password="Password should be more than 6 character"),t},l=function(e){var t={};return""===e.description&&(t.description="Please enter description"),""===e.amount?t.amount="Please enter amount":isNaN(e.amount)&&(t.amount="Amount should be number"),""===e.paidBy&&(t.paidBy="Please select the paid By person"),""===e.enteredDate&&(t.enteredDate="Please enter data"),t},c=function(e){var t={};return""===e.gName&&(t.gName="Please enter group name"),""===e.name0&&(t.name0="Please enter at least one member's phone number"),t},r=function(e){var t={};return""===e.name&&(t.name="Please enter member's name"),""===e.number?t.number="Please enter phone number":e.number.length>14&&(t.number="Please enter valid phone number"),t}},121:function(e,t,a){"use strict";a.r(t),a.d(t,"AlertModal",(function(){return r}));var n=a(0),l=a.n(n),c=a(68);function r(e){var t=e.message.substring(0,5);return l.a.createElement(c.a,{show:e.show,onHide:e.hide,centered:!0,"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"cus-modal-dialog"},l.a.createElement(c.a.Header,{closeButton:!0},l.a.createElement(c.a.Title,{className:"txt-color "},"  Alert ")),l.a.createElement(c.a.Body,null,l.a.createElement("p",{className:"alertMessage ".concat("Error"===t?"text-danger":"")}," ",e.message)),l.a.createElement(c.a.Footer,null,"Error"!==t&&l.a.createElement("button",{className:"btn btn-success",onClick:function(){e.callBack(),e.hide()}},"Yes"),l.a.createElement("button",{className:"btn btn-secondary",onClick:e.hide},"No")))}t.default=r},139:function(e,t,a){"use strict";a.r(t),a.d(t,"ModalsForm",(function(){return p}));var n=a(123),l=a(106),c=a(16),r=a(0),s=a.n(r),o=a(68),i=a(28),u=a(113),m=a(25),d=a(110),b=a(119);function p(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),p=a[0],E=a[1],f=Object(r.useState)(!1),g=Object(c.a)(f,2),h=g[0],v=g[1],N=Object(r.useState)({status:!1,message:""}),j=Object(c.a)(N,2),y=j[0],O=j[1],w=Object(r.useState)(e.toBeClosed),S=Object(c.a)(w,2),k=S[0],D=S[1],I=Object(r.useState)([]),C=Object(c.a)(I,2),B=C[0],x=C[1],M=Object(r.useState)({}),P=Object(c.a)(M,2),z=P[0],F=P[1],L=Object(d.a)((function(t){var a=p.reduce((function(e,t,a){return e["name"+(a+1)]=t,e}),{}),n=Object(l.a)({},G,{},a,{profileName:e.userName});console.log("formDatra",n),Object(m.a)("/createGroup",n,"post",e.jwt).then((function(e){console.log("here is the result",e),e?(O({status:!0,message:"Successfully created Group"}),D(!0),window.location.reload()):O(Object(l.a)({},y,{message:"Failed to create group. Please check your details and try resubmitting it"}))})),E([])}),{gName:"",name0:""},b.c),A=L.error,G=L.formField,T=L.handleOnChange,H=(L.changeValue,L.handleSubmit);return Object(r.useEffect)((function(){v(e.show),0===B.length&&Object(m.a)("allGroups","","get",e.jwt).then((function(e){x(e)}))}),[e]),s.a.createElement(o.a,{show:h,centered:!0,onHide:k?e.hide:function(){}},s.a.createElement("form",{onSubmit:H},s.a.createElement(o.a.Header,{closeButton:!0},s.a.createElement(o.a.Title,{className:"txt-color "}," Create Group")),s.a.createElement(o.a.Body,null,y.status?s.a.createElement("div",{className:"text-success"},y.message):s.a.createElement("div",{className:"alert-danger"},A.message),s.a.createElement("div",{className:"md-form mb-4 row"},s.a.createElement("label",{className:"col-form-label col-sm-3 ",htmlFor:"gName"},"Group Name:"),s.a.createElement("div",{className:"col-sm-8 "},s.a.createElement("input",{type:"text",name:"gName",id:"gName",onChange:function(e){T(e),function(e){var t=B.filter((function(t){if(t.toLowerCase().trim()===e.target.value.toLowerCase().trim())return t}));""!==e.target.value?0!==t.length?F({status:"no"}):F({status:"yes"}):F("")}(e)},value:G.gName,className:"form-control ".concat(A.gName&&"is-invalid"),placeholder:"Group name should be unique..."}),A.gName&&s.a.createElement("div",{className:"invalid-feedback"},A.gName),z.status&&("yes"===z.status?s.a.createElement("p",{className:"text-success small"},"Group name is available."):s.a.createElement("p",{className:"text-danger small"},"Group name is not available.")))),s.a.createElement("div",{className:"md-form mb-7"},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ",id:"dynamic_field"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("input",{type:"text",name:"name0",placeholder:"Member's Phone Number",className:"form-control  ".concat(A.name0&&"is-invalid"),value:G.name0,onChange:T}),A.name0&&s.a.createElement("div",{className:"invalid-feedback"},A.name0)),s.a.createElement("td",null,s.a.createElement("button",{type:"button",className:"btn btn-success d-block",onClick:function(){E([].concat(Object(n.a)(p),[""]))}}," ",s.a.createElement(i.Icon,{icon:u.plus})))),p.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement("input",{type:"text",required:!0,value:e,onChange:function(e){!function(e,t){E(p.map((function(a,n){return n===t?e.target.value:a})))}(e,t)},placeholder:"Member's Phone Number",className:"form-control name_list"})),s.a.createElement("td",null,s.a.createElement("button",{type:"button",className:"btn btn-danger d-block",onClick:function(){return function(e){E(p.filter((function(t,a){return a!==e})))}(t)}}," ",s.a.createElement(i.Icon,{icon:u.minus}))))}))))))),s.a.createElement(o.a.Footer,null,s.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:k?e.hide:null},"Close"),s.a.createElement("button",{className:"btn btn-success",disabled:"no"===z.status&&!0,type:"submit"},"Save"))))}t.default=p},163:function(e,t,a){"use strict";var n=a(106),l=a(16),c=a(0),r=a.n(c),s=a(103),o=a(101),i=a(339),u=a(315),m=a(21),d=a(28),b=a(113),p=a(118),E=a(48),f=Object(c.lazy)((function(){return a.e(14).then(a.bind(null,139))})),g=Object(c.lazy)((function(){return a.e(13).then(a.bind(null,201))})),h=Object(c.lazy)((function(){return a.e(16).then(a.bind(null,121))})),v=Object(c.lazy)((function(){return a.e(18).then(a.bind(null,202))})),N=Object(c.lazy)((function(){return a.e(20).then(a.bind(null,203))}));t.a=function(e){var t=Object(c.useContext)(m.b),j=Object(c.useContext)(m.d),y=Object(c.useContext)(m.a),O=Object(c.useContext)(m.c),w="undefined"!==typeof j.userData.userDetails.fullName?j.userData.userDetails:{fullName:"np"},S=Object(c.useState)({modalsForm:!1,addMemberModal:!1,alertPopUp:!1,deleteModal:!1,deleteType:null,editProfile:!1}),k=Object(l.a)(S,2),D=k[0],I=k[1],C=Object(p.a)(),B=function(){O.dispatch({type:"ADD",payload:t.stateData.jwt}),console.log("asd",O)};return r.a.createElement("div",null,r.a.createElement(s.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",variant:"light"},r.a.createElement(s.a.Brand,{href:"#home"},r.a.createElement("img",{className:"logo-img",src:a(69),width:"75px",height:"75px"}),"Split Expenses"),r.a.createElement(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(o.a,{className:"mr-auto"},r.a.createElement(o.a.Link,{href:"/home"},"Home"),r.a.createElement(i.a,{title:"Groups",id:"collasible-nav-dropdown"},j.userData.groupList.map((function(e,t){return r.a.createElement(i.a.Item,{active:!1,onClick:function(){var t;t=e,sessionStorage.setItem("groupName",t.groupName),sessionStorage.setItem("createdBy",t.createdBy),B()},key:t},r.a.createElement(d.Icon,{icon:b.group})," ",e.groupName)}))),r.a.createElement(i.a,{title:"Manage Group",id:"collasible-nav-dropdown"},r.a.createElement(i.a.Item,{href:"#",onClick:function(){I(Object(n.a)({},D,{modalsForm:!0}))}}," ",r.a.createElement(d.Icon,{icon:b.plusCircle})," Create Group"),r.a.createElement(i.a.Item,{href:"#",onClick:function(){I(Object(n.a)({},D,{deleteModal:!0,deleteType:"group"}))}}," ",r.a.createElement(d.Icon,{icon:b.trashO})," Delete Group "),r.a.createElement(u.a.Divider,null),r.a.createElement(i.a.Item,{href:"#1",onClick:function(){I(Object(n.a)({},D,{addMemberModal:!0}))}}," ",r.a.createElement(d.Icon,{icon:b.userPlus}),"  Add Member "),parseInt(sessionStorage.getItem("createdBy"))===w.id&&r.a.createElement(i.a.Item,{href:"#2",onClick:function(){I(Object(n.a)({},D,{deleteModal:!0,deleteType:"Member"}))}}," ",r.a.createElement(d.Icon,{icon:b.trashO})," Delete Member")),r.a.createElement(o.a.Link,{href:"/upload"},"Upload Bill")),r.a.createElement("div",{className:"dispute","data-toggle":"tooltip","data-placement":"bottom",title:"Disputes"},r.a.createElement("a",{href:"#",className:e.isDisputeDisplay?"":"isDisabled",onClick:e.loadDispute},C.width>768?r.a.createElement(d.Icon,{icon:b.comments,size:30}):"Disputes",0!==y.disputeData.disputeArray.length&&r.a.createElement("sup",null,r.a.createElement("span",{className:"badge badge-pill badge-danger"},y.disputeData.disputeArray.length)))),r.a.createElement(o.a,null,r.a.createElement(i.a,{title:C.width>768?r.a.createElement(d.Icon,{className:"navIcon",icon:b.user,size:30,style:{color:"#28a745"}}):w.fullName,id:"collasible-nav-dropdown ",alignRight:!0},r.a.createElement(i.a.Item,{onClick:function(){return I(Object(n.a)({},D,{editProfile:!0}))}},"Edit Profile"),r.a.createElement(i.a.Item,{href:"#",onClick:function(){return I(Object(n.a)({},D,{alertPopUp:!0}))}},"Log Out"))))),D.modalsForm?r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.a,null)},r.a.createElement(f,{callBack:B,jwt:t.stateData.jwt,show:D.modalsForm,toBeClosed:!0,userName:w.fullName,hide:function(){I(Object(n.a)({},D,{modalsForm:!1}))}})):null,D.addMemberModal?r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.a,null)},r.a.createElement(g,{callBack:B,jwt:t.stateData.jwt,show:D.addMemberModal,hide:function(){I(Object(n.a)({},D,{addMemberModal:!1}))}})):null,D.alertPopUp&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.a,null)},r.a.createElement(h,{show:D.alertPopUp,hide:function(){I(Object(n.a)({},D,{alertPopUp:!1}))},callBack:function(){t.dispatch({type:"Logout"}),e.mainProps.history.push("/Login")},message:"Do you wanna logout?"})),D.deleteModal&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.a,null)}," ",r.a.createElement(v,{show:D.deleteModal,jwt:t.stateData.jwt,hide:function(){I(Object(n.a)({},D,{deleteModal:!1,deleteType:null}))},callBack:B,groups:j.userData.groupList,user:j.userData.userDetails,selectedType:D.deleteType})),D.editProfile&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.a,null)}," ",r.a.createElement(N,{show:D.editProfile,hide:function(){return I(Object(n.a)({},D,{editProfile:!1}))},jwt:t.stateData.jwt})))}},200:function(e,t,a){e.exports=a.p+"static/media/happy.ab95f5ce.png"},319:function(e,t,a){"use strict";var n=a(1),l=a(2),c=a(4),r=a.n(c),s=a(0),o=a.n(s),i=a(29),u=a(5),m=a(14),d=o.a.createContext(null);var b=o.a.forwardRef((function(e,t){var a=e.as,c=void 0===a?"button":a,r=e.children,i=e.eventKey,u=e.onClick,b=Object(l.a)(e,["as","children","eventKey","onClick"]),p=function(e,t){var a=Object(s.useContext)(d),n=Object(s.useContext)(m.a);return function(l){n(e===a?null:e,l),t&&t(l)}}(i,u);return o.a.createElement(c,Object(n.a)({ref:t,onClick:p},b),r)})),p=a(54),E=o.a.forwardRef((function(e,t){var a=e.children,c=e.eventKey,r=Object(l.a)(e,["children","eventKey"]),i=Object(s.useContext)(d);return o.a.createElement(p.a,Object(n.a)({ref:t,in:i===c},r),o.a.createElement("div",null,o.a.Children.only(a)))}));E.displayName="AccordionCollapse";var f=E,g=o.a.forwardRef((function(e,t){var a=Object(i.a)(e,{activeKey:"onSelect"}),c=a.as,s=void 0===c?"div":c,b=a.activeKey,p=a.bsPrefix,E=a.children,f=a.className,g=a.onSelect,h=Object(l.a)(a,["as","activeKey","bsPrefix","children","className","onSelect"]);return p=Object(u.b)(p,"accordion"),o.a.createElement(d.Provider,{value:b},o.a.createElement(m.a.Provider,{value:g},o.a.createElement(s,Object(n.a)({ref:t},h,{className:r()(f,p)}),E)))}));g.Toggle=b,g.Collapse=f;t.a=g},344:function(e,t,a){"use strict";a.r(t);var n=a(106),l=a(16),c=a(0),r=a.n(c),s=a(21),o=a(163),i=a(25),u=a(28),m=a(113),d=a(111),b=a(319),p=a(247),E=a(118),f=function(e){var t=Object(E.a)(),n=function(t){return e.dispute.disputeArray.reduce((function(e,a){return a.billingDetails.transId===t&&(e=!0),e}),!1)},l=function(t){Object(i.a)("/removeBill",t.transId,"delete",e.jwt).then((function(t){t&&e.addBilling()}))},c=function(e){return e.split(",")},s=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},o=e.props.map((function(t,a){var c=s(t.date);return r.a.createElement("div",{className:"cus-container",key:a},r.a.createElement("div",{className:"row ".concat(0!==e.dispute.disputeArray.length&&n(t.transId)?"table-warning":null)},r.a.createElement(b.a.Toggle,{as:p.a,variant:"link",eventKey:a,className:"col-md-11 col-sm-11 col-10 col-lg-11 col-xs-11"},r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col d-flex justify-content-start "},r.a.createElement("span",{className:"text-uppercase"}," ",t.description," "),"  \xa0\xa0 ",r.a.createElement("span",{className:"small"}," ",c," ")),r.a.createElement("span",{className:"col-1 d-flex justify-content-end"},r.a.createElement(u.Icon,{size:20,icon:m.caretDown})))),e.user.id===t.enteredId?r.a.createElement("div",null,r.a.createElement(d.b,{arrow:!0,title:"Edit Bill"},r.a.createElement("a",{onClick:function(){e.callBackEdit(t)},style:{color:"#1E7E34"}},r.a.createElement(u.Icon,{size:15,icon:m.edit})))," |",r.a.createElement(d.c,{arrow:!0,title:"Remove Bill"},r.a.createElement("a",{onClick:function(){l(t)},style:{color:"red"}},r.a.createElement(u.Icon,{size:15,icon:m.remove})))):r.a.createElement(d.c,{arrow:!0,title:"Raise Conflict"},r.a.createElement("a",{onClick:function(){e.handleDispute(t)},style:{color:"red"}},r.a.createElement(u.Icon,{size:15,icon:m.bell})))),r.a.createElement(b.a.Collapse,{eventKey:a},r.a.createElement("table",{className:"table table-sm table-striped",style:{fontSize:"12px"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Id"),r.a.createElement("td",null," ",t.transId)),r.a.createElement("tr",null,r.a.createElement("td",null,"Description"),r.a.createElement("td",null,t.description)),r.a.createElement("tr",null,r.a.createElement("td",null,"Date"),r.a.createElement("td",null," ",c," ")),r.a.createElement("tr",null,r.a.createElement("td",null,"Paid Amount"),r.a.createElement("td",null,t.amount)),r.a.createElement("tr",null,r.a.createElement("td",null,"Paid By"),r.a.createElement("td",null,t.paidBy)),r.a.createElement("tr",null,r.a.createElement("td",null,"Split on"),r.a.createElement("td",null,t.splitedOn.split(",").map((function(e){return e+", "}))))))))}));return 0!==e.props.length?t.width<768?r.a.createElement(b.a,null,o):r.a.createElement("div",null,r.a.createElement("table",{className:"cus-table table table-hover table-responsive-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Paid Amount"),r.a.createElement("th",null,"Paid By"),r.a.createElement("th",null,"Split On"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.props.map((function(t){return r.a.createElement("tr",{className:"collapsible ".concat(0!==e.dispute.disputeArray.length&&n(t.transId)?"table-warning":null),key:t.transId},r.a.createElement("td",{className:"td-bills content"},t.transId),r.a.createElement("td",{className:"td-bills content"},t.description),r.a.createElement("td",{className:"td-bills content"},s(t.date)),r.a.createElement("td",{className:"td-bills content"},"$",t.amount),r.a.createElement("td",{className:"td-bills content"},t.paidBy),r.a.createElement("td",{className:"td-bills content"},(a=t.splitedOn,c(a).map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(d.b,{interactive:!0,arrow:!0,title:e},r.a.createElement("a",{className:"cus-tooltip"},e.substring(0,1),",")))})))),r.a.createElement("td",{className:"content"},e.user.id===t.enteredId?r.a.createElement("div",null,r.a.createElement(d.b,{arrow:!0,title:"Edit Bill"},r.a.createElement("a",{onClick:function(){e.callBackEdit(t)},style:{color:"#1E7E34"}},r.a.createElement(u.Icon,{size:20,icon:m.edit}))),"|",r.a.createElement(d.c,{arrow:!0,title:"Remove Bill"},r.a.createElement("a",{onClick:function(){l(t)},style:{color:"red"}},r.a.createElement(u.Icon,{size:20,icon:m.remove})))):r.a.createElement(d.c,{arrow:!0,title:"Raise Conflict"},r.a.createElement("a",{onClick:function(){e.handleDispute(t)},style:{color:"red"}},r.a.createElement(u.Icon,{size:20,icon:m.bell})))));var a}))))):r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"}," ",r.a.createElement("img",{className:"cus-happy-img",src:a(200)})),r.a.createElement("h4",null,"Yeay, No Settlements Due..."))},g=a(339),h=function(){return r.a.createElement("div",{className:"footer-copyright text-center py-3"},r.a.createElement("h5",{style:{color:"#1E7E34"}}," @ Made By Bill Splitter Team"))},v=a(68),N=function(e){Object(c.useContext)(s.c);var t=null===sessionStorage.getItem("isShown"),a=Object(c.useState)(t),n=Object(l.a)(a,2),o=n[0],i=n[1];return r.a.createElement(v.a,{show:o,centered:!0,onHide:function(){return!0},onExiting:e.callBack},r.a.createElement(v.a.Header,{className:"justify-content-center"},r.a.createElement(v.a.Title,{className:"txt-color "},"Select a Group")),r.a.createElement(v.a.Body,{className:"cus-modal-body"},r.a.createElement("ul",null," ",e.props.map((function(e,a){return r.a.createElement("li",{key:a}," ",r.a.createElement("a",{className:"text-uppercase",key:a,onClick:function(a){var n;n=e,sessionStorage.setItem("groupName",n.groupName),sessionStorage.setItem("createdBy",n.createdBy),sessionStorage.setItem("isShown",!1),t=!("false"===sessionStorage.getItem("isShown")),i(t)},href:"#"},r.a.createElement(u.Icon,{icon:m.group})," ",e.groupName))})))))},j=a(139),y=a(114),O=a(121),w=function(e){var t=Object.entries(e.settlementList),s=Object(c.useState)({date:"",settlementId:""}),o=Object(l.a)(s,2),E=o[0],f=o[1],g=Object(c.useState)({status:!1,message:""}),h=Object(l.a)(g,2),v=h[0],N=h[1],j=Object(c.useState)({}),w=Object(l.a)(j,2),S=w[0],k=w[1],D=t.reduce((function(e,t,a){return e["key"+a]=!1,e}),{});if(Object(c.useEffect)((function(){k(D)}),[e.settlementList]),0!==t.length){var I=t.map((function(t,a){var n=t[1][0].settlementDoneBy===e.user.id;return r.a.createElement("div",{className:"cus-container",key:a},r.a.createElement("div",{className:"row"},r.a.createElement(b.a.Toggle,{as:p.a,variant:"link",eventKey:a,className:"col-md-11 col-sm-11 col-10 col-lg-11 col-xs-11"},r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col d-flex justify-content-start "},r.a.createElement("span",{className:"hide-container"}," From ")," \xa0\xa0 ",r.a.createElement("span",null," ",t[0]," "),"  \xa0\xa0 ",r.a.createElement("span",{className:"hide-container"}," settlements ")),r.a.createElement("span",{className:"col-1 d-flex justify-content-end"},S["key"+a]?r.a.createElement(u.Icon,{size:30,icon:m.caretUp}):r.a.createElement(u.Icon,{size:30,icon:m.caretDown})))),S["key"+a]&&n&&r.a.createElement("div",{className:"col-md-1 col-sm-1 col-1"},r.a.createElement(d.b,{placement:"top",title:"Edit Settlement"},r.a.createElement("span",{className:"text-danger"},r.a.createElement(u.Icon,{onClick:function(){return a=t[0],n=t[1][0].id,void(0===e.billingList.length?(f({date:a,settlementId:n}),N({status:!0,message:" Are you sure ? You wanna edit the settlement? "})):N({status:!0,message:"Error!!..The invoices' settlement should be done before editing previous settlement "}));var a,n},icon:m.edit}))))),r.a.createElement(b.a.Collapse,{eventKey:a},r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"cus-list",key:a,id:"example-collapse-text"},t[1].map((function(e){return e.settlementPaymentDetails.map((function(e,t){return r.a.createElement("li",{key:t},e.paidBy," pays ",e.paidTo," = ",e.amount.toFixed(2)," ")}))}))))))}));return r.a.createElement(b.a,{onSelect:function(e){var t;t=e,console.log("Settlement",S),console.log("key",t),null!==t?(t="key"+t,k(Object(y.a)({},t,!S[t]))):k(D)}},I,v.status&&r.a.createElement(O.default,{show:v.status,message:v.message,callBack:function(){var t={groupName:sessionStorage.getItem("groupName"),startDate:E.date.substring(0,10),endDate:E.date.substring(14,24),settlementId:E.settlementId};Object(i.a)("/retrieveBill",t,"put",e.jwt).then((function(t){t&&e.callBack()}))},hide:function(){return N(Object(n.a)({},v,{status:!1}))}}))}return r.a.createElement("div",{className:"settlementList"},r.a.createElement("p",null,r.a.createElement("span",null," ",r.a.createElement("img",{className:"cus-happy-img",src:a(200)})),r.a.createElement("span",{className:"h4"}," No Settlements List...")))};var S=function(e){return r.a.createElement(v.a,{show:e.show,centered:!0,onHide:e.hide},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,{className:"txt-color "}," Dispute Notification ")),r.a.createElement(v.a.Body,null,r.a.createElement("h4",{className:"text-danger"}," You have dispute on these bills"),r.a.createElement("p",null,"For the more detail click on upper right discussion icon"),0!==e.dispute.disputeArray.length&&e.dispute.disputeArray.map((function(e,t){return r.a.createElement("ul",{key:t},r.a.createElement("li",{className:"cust-dispute-li"},"Id : ",e.billingDetails.transId),r.a.createElement("li",null,"Description: ",e.billingDetails.description))}))),r.a.createElement(v.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:e.hide},"Close")))},k=function(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)},D=a(48),I=Object(c.lazy)((function(){return a.e(17).then(a.bind(null,341))})),C=Object(c.lazy)((function(){return a.e(19).then(a.bind(null,347))})),B=Object(c.lazy)((function(){return a.e(15).then(a.bind(null,342))})),x=Object(c.lazy)((function(){return a.e(12).then(a.bind(null,317))}));t.default=function(e){var t=new Date,a=Object(c.useContext)(s.b),b=Object(c.useContext)(s.d),p=Object(c.useContext)(s.c),E=Object(c.useContext)(s.a),v=Object(c.useState)({mainBody:!0,disputePage:!1}),y=Object(l.a)(v,2),O=y[0],M=y[1],P=Object(c.useState)(""),z=Object(l.a)(P,2),F=z[0],L=z[1],A=Object(c.useState)(""),G=Object(l.a)(A,2),T=G[0],H=G[1],K=Object(c.useState)([]),R=Object(l.a)(K,2),Y=R[0],U=R[1],_=Object(c.useState)({}),$=Object(l.a)(_,2),q=$[0],J=$[1],W=Object(c.useState)([]),Z=Object(l.a)(W,2),V=Z[0],Q=Z[1],X=a.stateData.jwt,ee=Object(c.useState)({addingBillingModal:!1,creatingGroupModal:!0,disputeModal:!1}),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],le=Object(c.useState)([]),ce=Object(l.a)(le,2),re=ce[0],se=ce[1],oe=Object(c.useState)(!1),ie=Object(l.a)(oe,2),ue=ie[0],me=ie[1],de=Object(c.useState)({value:null,isModalShown:!1}),be=Object(l.a)(de,2),pe=be[0],Ee=be[1],fe=Object(c.useState)(null),ge=Object(l.a)(fe,2),he=ge[0],ve=ge[1],Ne=Object(c.useState)(""),je=Object(l.a)(Ne,2),ye=je[0],Oe=je[1],we=Object(c.useState)({}),Se=Object(l.a)(we,2),ke=Se[0],De=Se[1],Ie=Object(c.useState)({status:!1}),Ce=Object(l.a)(Ie,2),Be=Ce[0],xe=Ce[1],Me=function(){me(!ue)},Pe=function(){p.dispatch({type:"ADD",payload:X})},ze=function(){De(Object.entries(q).reduce((function(e,t){return t[0].includes(ye)&&(e[t[0]]=t[1]),e}),{}))},Fe=function(e){Object(i.a)("/getBillList",e,"get",X).then((function(e){U(e)}))};return Object(c.useEffect)((function(){""!==ye&&ze(),""!==F&&""===ye&&Fe(F)}),[ye,ue]),Object(c.useEffect)((function(){"undefined"!==typeof b.userData.userDetails.fullName&&(O.mainBody&&(H(b.userData.userDetails),Q(b.userData.groupList),M(Object(n.a)({},O,{mainBody:!1})),console.log("userajsdh",b.userData)),null!==sessionStorage.getItem("groupName")&&"false"===sessionStorage.getItem("IsMemberFetched")&&p.fetchData.then((function(e){console.log("E",e),Fe(sessionStorage.getItem("groupName")),se(e.groupMemberList);var t=e.settlementList.reduce((function(e,t){var a=k(t.startDate)+" to "+k(t.endDate);return e[a]?(e[a].push(t),e):(e[a]=new Array(t),e)}),{});J(t),L(sessionStorage.getItem("groupName")),sessionStorage.setItem("IsMemberFetched","true")})))}),[b.userData,sessionStorage.getItem("groupName"),p]),r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(o.a,{mainProps:e,loadDispute:function(){return M(Object(n.a)({},O,{disputePage:!0}))},isDisputeDisplay:!0,callBack:Pe})),O.mainBody?r.a.createElement("h4",null,"Loading ..."):r.a.createElement("div",{className:"container-fluid cus-padding",style:{overflow:"auto"}},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:" col hide-container"},r.a.createElement("article",null,r.a.createElement("span",null,r.a.createElement("h4",{className:"cus-color"},"Hey ",T.fullName," !!")),r.a.createElement("span",{className:"d-inline cus-color"},"TODAY: ",t.toDateString()))),r.a.createElement("div",{className:"col  cus-color"},r.a.createElement(d.b,{placement:"top",title:"Your Group Name. Click to see the members"},r.a.createElement("h4",{className:"row cus-memberName-dropDown justify-content-center"},r.a.createElement(g.a,{title:sessionStorage.getItem("groupName")?sessionStorage.getItem("groupName"):"Group Name",id:"collasible-nav-dropdown dropdown-menu-align-right"},re.map((function(e,t){return r.a.createElement(g.a.Item,{active:!1,key:t},e.fullName)})))))),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-success cus-btn",onClick:function(){ne(Object(n.a)({},ae,{addingBillingModal:!0})),ve(null)},style:{float:"right"}},r.a.createElement(u.Icon,{icon:m.plus})," Add New Bills"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6  "},r.a.createElement("div",{className:"card border-left-primary shadow  py-2 "},r.a.createElement("div",{className:"card-header "},r.a.createElement("div",{className:"row "},r.a.createElement("h4",{className:"col-md-8 col-lg-9 col-sm-9 col-7"}," Latest Invoices"),r.a.createElement("div",{className:"col-md-4 col-lg-3 col-sm-3 col-5 justify-content-end d-flex"},r.a.createElement("button",{className:"btn btn-success cus-btn col-md-10 col-lg-10 col-sm-10 col-10",disabled:0===Y.length,onClick:function(){Object(i.a)("/calculate",F+"/"+T.id,"get",X).then((function(e){"undefined"===typeof e.ok||e.ok?Ee({value:e,isModalShown:!0}):Ee({value:"Error While performing settlement.Please try again!!",isModalShown:!0})}))}},r.a.createElement(u.Icon,{icon:m.calculator})," Settle")))),r.a.createElement("div",{className:"card-body ".concat(0===Y.length&&"align-items-center d-flex justify-content-center"),style:{overflow:"scroll"}},r.a.createElement(f,{props:Y,user:T,addBilling:Me,callBackEdit:function(e){ve(e),ne(Object(n.a)({},ae,{addingBillingModal:!0}))},jwt:X,handleDispute:function(e){ve(e),ne(Object(n.a)({},ae,{disputeModal:!0}))},dispute:E.disputeData})))),r.a.createElement("div",{className:"col-lg-6 col-md-6  "},r.a.createElement("div",{className:"card border-left-primary shadow py-2 cus-card "},O.disputePage?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" card-body "},r.a.createElement(c.Suspense,{fallback:r.a.createElement(D.a,null)}," ",r.a.createElement(x,{dispute:E.disputeData,jwt:X}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement(d.b,{placement:"bottom",title:"Back to previous settlement page"},r.a.createElement("button",{type:"button",className:"btn btn-success  cus-btn",onClick:function(){M(Object(n.a)({},O,{disputePage:!1}))},style:{float:"right"}},r.a.createElement(u.Icon,{icon:m.mailReplyAll})," Previous Settlement")))):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"card-header "},r.a.createElement("div",{className:"row",style:{marginBottom:"-18px"}},r.a.createElement("h4",{className:"col-md-8 col-lg-8 col-sm-7"}," Previous Settlement"),r.a.createElement("form",{className:"form-inline col-md-4 col-lg-4 col-sm-5 cus-search-bar "},r.a.createElement(d.b,{placement:"top",title:"Please enter the date or date range "},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control cus-border",value:ye,onChange:function(e){Oe(e.target.value)},placeholder:"Search..."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(e){return ze}},r.a.createElement(u.Icon,{icon:m.search})))))))),r.a.createElement("div",{className:"card-body",style:{overflow:"scroll"}},r.a.createElement(w,{settlementList:0===Object.keys(ke).length&&""===ye?q:ke,billingList:Y,user:T,jwt:X,callBack:Pe})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"button",className:"btn btn-success  cus-btn",style:{float:"right"}},r.a.createElement(u.Icon,{icon:m.gear})," Manage Settlement")))))),0===V.length?r.a.createElement(j.default,{show:ae.creatingGroupModal,userName:T.fullName,jwt:X,toBeClosed:!1,hide:function(){return ne(Object(n.a)({},ae,{creatingGroupModal:!1}))}}):r.a.createElement(N,{props:V,callBack:Pe}),ae.addingBillingModal&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(D.a,null)},r.a.createElement(I,{show:ae.addingBillingModal,selectedBill:he,user:T,addBilling:Me,jwt:X,groupMembers:re.map((function(e){return e.fullName})),hide:function(){ne(Object(n.a)({},ae,{addingBillingModal:!1}))}})),pe.isModalShown&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(D.a,null)},r.a.createElement(C,{show:pe.isModalShown,jwt:X,billingDetails:Y,data:pe.value.calData,totalSpending:pe.value.totalSpending,members:re,hide:function(){Ee(Object(n.a)({},pe,{isModalShown:!1})),Pe()}})),ae.disputeModal&&r.a.createElement(c.Suspense,{fallback:r.a.createElement(D.a,null)},r.a.createElement(B,{show:ae.disputeModal,userID:T.fullName,bill:he,jwt:X,hide:function(){ne(Object(n.a)({},ae,{disputeModal:!1}))}})),Be.status&&r.a.createElement(S,{dispute:E.disputeData,show:Be.status,hide:function(){xe(Object(n.a)({},Be,{status:!1}))}})),r.a.createElement(h,null))}}}]);
//# sourceMappingURL=7.b6fa86dc.chunk.js.map