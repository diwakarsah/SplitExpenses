(this.webpackJsonpbill_splitter_v1=this.webpackJsonpbill_splitter_v1||[]).push([[18],{202:function(e,t,a){"use strict";a.r(t),a.d(t,"DeletingModal",(function(){return d}));var n=a(123),r=a(106),c=a(16),l=a(0),o=a.n(l),s=a(68),u=a(111),i=a(21),m=a(25);function d(e){var t=Object(l.useContext)(i.c),a=Object(l.useState)([]),d=Object(c.a)(a,2),p=d[0],g=d[1],h=Object(l.useState)([]),f=Object(c.a)(h,2),b=f[0],E=f[1],k=Object(l.useState)({}),N=Object(c.a)(k,2),y=N[0],j=N[1],v=function(t,a){t.target.checked?(g([].concat(Object(n.a)(p),[b[a].name])),E(b.map((function(e,t){return a===t?Object(r.a)({},e,{isChecked:!0}):e})))):("group"===e.selectedType?g(p.filter((function(e){return e.groupName!==t.target.value}))):g(p.filter((function(e){return e.fullName!==t.target.value}))),E(b.map((function(e,t){return a===t?Object(r.a)({},e,{isChecked:!1}):e}))))};return Object(l.useEffect)((function(){var a=null;"group"===e.selectedType?(a=e.groups.reduce((function(t,a){return a.createdBy===e.user.id&&t.push({name:a,isChecked:!1}),t}),[]),E(a)):t.fetchData.then((function(t){a=t.groupMemberList.reduce((function(t,a){return a.id!==e.user.id&&t.push({name:a,isChecked:!1}),t}),[]),E(a)}))}),[e.groups,e.show,e.selectedType,e.user,t]),console.log("asd",p),o.a.createElement(s.a,{show:e.show,onHide:e.hide,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,dialogClassName:"cus-modal-dialog"},o.a.createElement(s.a.Header,{closeButton:!0},o.a.createElement(s.a.Title,{className:"txt-color"},"  Please Select to delete ")),o.a.createElement(s.a.Body,null,y.error&&o.a.createElement("h5",{className:"text-danger"},y.error),y.success&&o.a.createElement("h5",{className:"text-success"},y.success),0!==b.length?o.a.createElement("div",{className:"from-group "},o.a.createElement("ul",null,"group"===e.selectedType?b.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(u.a,{checked:e.isChecked,className:"custom-checkbox",value:e.name.groupName,onChange:function(e){return v(e,t)}}),o.a.createElement("label",null,o.a.createElement("span",{className:"text-uppercase"},e.name.groupName)))})):b.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(u.a,{checked:e.isChecked,className:"custom-checkbox",value:e.name.fullName,onChange:function(e){return v(e,t)}}),o.a.createElement("label",null,o.a.createElement("span",{className:"text-uppercase"},e.name.fullName)))})))):o.a.createElement("h5",{className:"text-danger"},"group"===e.selectedType?"There is not any group created by you ..":"No members to delete in this group...")),o.a.createElement(s.a.Footer,null,0!==p.length&&o.a.createElement("button",{className:"btn btn-success",onClick:function(){if("group"===e.selectedType){var t=p.reduce((function(e,t){return t.groupId+","+e}),"");console.log("data",t),Object(m.a)("/deleteGroup",t,"delete",e.jwt).then((function(e){"undefined"===typeof e.ok||e.ok?(sessionStorage.removeItem("groupName"),sessionStorage.removeItem("isShown"),window.location.reload()):j(Object(r.a)({},y,{error:"Error!! while deleting group.Please try again"}))}))}else{var a=p.reduce((function(e,t){return t.id+","+e}),"");a+=sessionStorage.getItem("groupName"),console.log("data",a),Object(m.a)("deleteMember",a,"delete",e.jwt).then((function(e){console.log("res",e.ok),"undefined"===typeof e.ok||e.ok?console.log("asd",e):j({error:"Error!! Something went wrong while deleting. Please try again"})}))}}},"Delete"),o.a.createElement("button",{className:"btn btn-secondary",onClick:e.hide},"Close")))}t.default=d}}]);
//# sourceMappingURL=18.f83315be.chunk.js.map