(this.webpackJsonpbill_splitter_v1=this.webpackJsonpbill_splitter_v1||[]).push([[9],{110:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(114),c=a(106),l=a(16),r=a(0),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=Object(r.useState)(t),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)({}),d=Object(l.a)(m,2),f=d[0],b=d[1],p=function(e){u(Object(c.a)({},s,Object(n.a)({},e.target.name,e.target.value))),e.target.name&&delete f[e.target.name]},h=function(e){u(e)},g=function(n){n.preventDefault(),0===Object.keys(a(s)).length?(e(n.target.value),u(t),b({})):b(a(s))};return{handleSubmit:g,handleOnChange:p,changeFormField:h,error:f,formField:s}}},111:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return f}));var n=a(131),c=a(146),l=a.n(c),r=a(208),o=a(151),i=a.n(o),s=a(0),u=a.n(s),m=Object(n.a)((function(e){return{tooltip:{backgroundColor:"#267c39",color:"white",boxShadow:e.shadows[1],fontSize:12}}}))(l.a),d=Object(n.a)((function(e){return{tooltip:{backgroundColor:"red",color:"white",boxShadow:e.shadows[1],fontSize:12}}}))(l.a),f=Object(n.a)({root:{color:r.a[400],"&$checked":{color:r.a[600]}},checked:{}})((function(e){return u.a.createElement(i.a,Object.assign({color:"default"},e))}))},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(16),c=a(0),l=function(){var e="object"===typeof window,t=function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}},a=Object(c.useState)(t),l=Object(n.a)(a,2),r=l[0],o=l[1];return Object(c.useEffect)((function(){if(!e)return!1;var a=function(){o(t())};return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),r}},163:function(e,t,a){"use strict";var n=a(106),c=a(16),l=a(0),r=a.n(l),o=a(103),i=a(101),s=a(339),u=a(315),m=a(21),d=a(28),f=a(113),b=a(118),p=a(48),h=Object(l.lazy)((function(){return a.e(14).then(a.bind(null,139))})),g=Object(l.lazy)((function(){return a.e(13).then(a.bind(null,201))})),E=Object(l.lazy)((function(){return a.e(16).then(a.bind(null,121))})),j=Object(l.lazy)((function(){return a.e(18).then(a.bind(null,202))})),O=Object(l.lazy)((function(){return a.e(20).then(a.bind(null,203))}));t.a=function(e){var t=Object(l.useContext)(m.b),v=Object(l.useContext)(m.d),w=Object(l.useContext)(m.a),k=Object(l.useContext)(m.c),y="undefined"!==typeof v.userData.userDetails.fullName?v.userData.userDetails:{fullName:"np"},N=Object(l.useState)({modalsForm:!1,addMemberModal:!1,alertPopUp:!1,deleteModal:!1,deleteType:null,editProfile:!1}),x=Object(c.a)(N,2),C=x[0],S=x[1],D=Object(b.a)(),B=function(){k.dispatch({type:"ADD",payload:t.stateData.jwt}),console.log("asd",k)};return r.a.createElement("div",null,r.a.createElement(o.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",variant:"light"},r.a.createElement(o.a.Brand,{href:"#home"},r.a.createElement("img",{className:"logo-img",src:a(69),width:"75px",height:"75px"}),"Split Expenses"),r.a.createElement(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(o.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(i.a,{className:"mr-auto"},r.a.createElement(i.a.Link,{href:"/home"},"Home"),r.a.createElement(s.a,{title:"Groups",id:"collasible-nav-dropdown"},v.userData.groupList.map((function(e,t){return r.a.createElement(s.a.Item,{active:!1,onClick:function(){var t;t=e,sessionStorage.setItem("groupName",t.groupName),sessionStorage.setItem("createdBy",t.createdBy),B()},key:t},r.a.createElement(d.Icon,{icon:f.group})," ",e.groupName)}))),r.a.createElement(s.a,{title:"Manage Group",id:"collasible-nav-dropdown"},r.a.createElement(s.a.Item,{href:"#",onClick:function(){S(Object(n.a)({},C,{modalsForm:!0}))}}," ",r.a.createElement(d.Icon,{icon:f.plusCircle})," Create Group"),r.a.createElement(s.a.Item,{href:"#",onClick:function(){S(Object(n.a)({},C,{deleteModal:!0,deleteType:"group"}))}}," ",r.a.createElement(d.Icon,{icon:f.trashO})," Delete Group "),r.a.createElement(u.a.Divider,null),r.a.createElement(s.a.Item,{href:"#1",onClick:function(){S(Object(n.a)({},C,{addMemberModal:!0}))}}," ",r.a.createElement(d.Icon,{icon:f.userPlus}),"  Add Member "),parseInt(sessionStorage.getItem("createdBy"))===y.id&&r.a.createElement(s.a.Item,{href:"#2",onClick:function(){S(Object(n.a)({},C,{deleteModal:!0,deleteType:"Member"}))}}," ",r.a.createElement(d.Icon,{icon:f.trashO})," Delete Member")),r.a.createElement(i.a.Link,{href:"/upload"},"Upload Bill")),r.a.createElement("div",{className:"dispute","data-toggle":"tooltip","data-placement":"bottom",title:"Disputes"},r.a.createElement("a",{href:"#",className:e.isDisputeDisplay?"":"isDisabled",onClick:e.loadDispute},D.width>768?r.a.createElement(d.Icon,{icon:f.comments,size:30}):"Disputes",0!==w.disputeData.disputeArray.length&&r.a.createElement("sup",null,r.a.createElement("span",{className:"badge badge-pill badge-danger"},w.disputeData.disputeArray.length)))),r.a.createElement(i.a,null,r.a.createElement(s.a,{title:D.width>768?r.a.createElement(d.Icon,{className:"navIcon",icon:f.user,size:30,style:{color:"#28a745"}}):y.fullName,id:"collasible-nav-dropdown ",alignRight:!0},r.a.createElement(s.a.Item,{onClick:function(){return S(Object(n.a)({},C,{editProfile:!0}))}},"Edit Profile"),r.a.createElement(s.a.Item,{href:"#",onClick:function(){return S(Object(n.a)({},C,{alertPopUp:!0}))}},"Log Out"))))),C.modalsForm?r.a.createElement(l.Suspense,{fallback:r.a.createElement(p.a,null)},r.a.createElement(h,{callBack:B,jwt:t.stateData.jwt,show:C.modalsForm,toBeClosed:!0,userName:y.fullName,hide:function(){S(Object(n.a)({},C,{modalsForm:!1}))}})):null,C.addMemberModal?r.a.createElement(l.Suspense,{fallback:r.a.createElement(p.a,null)},r.a.createElement(g,{callBack:B,jwt:t.stateData.jwt,show:C.addMemberModal,hide:function(){S(Object(n.a)({},C,{addMemberModal:!1}))}})):null,C.alertPopUp&&r.a.createElement(l.Suspense,{fallback:r.a.createElement(p.a,null)},r.a.createElement(E,{show:C.alertPopUp,hide:function(){S(Object(n.a)({},C,{alertPopUp:!1}))},callBack:function(){t.dispatch({type:"Logout"}),e.mainProps.history.push("/Login")},message:"Do you wanna logout?"})),C.deleteModal&&r.a.createElement(l.Suspense,{fallback:r.a.createElement(p.a,null)}," ",r.a.createElement(j,{show:C.deleteModal,jwt:t.stateData.jwt,hide:function(){S(Object(n.a)({},C,{deleteModal:!1,deleteType:null}))},callBack:B,groups:v.userData.groupList,user:v.userData.userDetails,selectedType:C.deleteType})),C.editProfile&&r.a.createElement(l.Suspense,{fallback:r.a.createElement(p.a,null)}," ",r.a.createElement(O,{show:C.editProfile,hide:function(){return S(Object(n.a)({},C,{editProfile:!1}))},jwt:t.stateData.jwt})))}},346:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a.n(n),l=a(30),r=a(16),o=a(0),i=a.n(o),s=a(248),u=a.n(s),m=(a(188),a(249)),d=a(25),f=a(21),b=a(275),p=a.n(b),h=a(163),g=a(68),E=a(123),j=a(106),O=a(111),v=a(110);var w=function(e){var t=Object(o.useContext)(f.c),a=Object(o.useContext)(f.d),n=Object(o.useState)([]),c=Object(r.a)(n,2),l=c[0],s=c[1],u={date:(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),paidBy:""};Object(o.useEffect)((function(){"undefined"!==typeof a.userData.userDetails.fullName&&null!==sessionStorage.getItem("groupName")&&t.fetchData.then((function(e){s(e.groupMemberList)}))}),[a.userData,sessionStorage.getItem("groupName")]);var m=function(e){var t=Object(o.useState)([]),a=Object(r.a)(t,2),n=a[0],c=a[1],l=Object(o.useState)(!1),s=Object(r.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)([]),f=Object(r.a)(d,2),b=f[0],p=f[1],h=function(e,t){-1===t?e.target.checked?(m(!0),c(b.map((function(e){return e.name}))),p(b.map((function(e){return Object(j.a)({},e,{isChecked:!0})})))):(m(!1),c([]),p(b.map((function(e){return Object(j.a)({},e,{isChecked:!1})})))):e.target.checked?(c([].concat(Object(E.a)(n),[b[t].name])),p(b.map((function(e,a){return t===a?Object(j.a)({},e,{isChecked:!0}):e})))):(c(n.filter((function(t){return t!==e.target.value}))),p(b.map((function(e,a){return t===a?Object(j.a)({},e,{isChecked:!1}):e}))))};return Object(o.useEffect)((function(){var t=e.map((function(e){var t=-1===e.fullName.indexOf("(")?e.fullName.indexOf(" "):-1;return{name:-1!==t?e.fullName.substring(0,t)+"_"+e.fullName.substring(t+1,t+4):e.fullName,isChecked:!1}}));p(t)}),[e]),console.log("members",b),{checkBoxes:b.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(O.a,{checked:e.isChecked,className:"custom-checkbox",value:e.name,onChange:function(e){return h(e,t)}}),i.a.createElement("label",null,i.a.createElement("span",{className:"text-uppercase cust-checkbox-label"},e.name.substring(0,1)),i.a.createElement("span",{style:{fontSize:"12px"}},e.name.substring(1,e.size))))})),checkedMemberList:n,handleCheckBox:h,isCheckAll:u,groupMembers:b}}(l),d=m.checkBoxes,b=m.checkedMemberList,p=m.handleCheckBox,h=m.isCheckAll,w=m.groupMembers,k=Object(v.a)((function(){}),u,(function(){})),y=(k.handleSubmit,k.handleOnChange),N=k.error,x=k.formField;return console.log("se",b),i.a.createElement(g.a,{show:e.show,onHide:e.hide,centered:!0,"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"cus-modal-dialog"},i.a.createElement(g.a.Header,{closeButton:!0},i.a.createElement(g.a.Title,{className:"txt-color "},"  Split On ")),i.a.createElement(g.a.Body,null,i.a.createElement("div",{className:"row"},i.a.createElement("label",{className:"col-md-3"},"Bill Date :"),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("input",{type:"date",name:"date",onChange:y,value:x.date,className:"form-control  ".concat(N.date&&"is-invalid"),placeholder:"Enter Date"}),N.date&&i.a.createElement("div",{className:"invalid-feedback"},N.date))),i.a.createElement("div",{className:"row"},i.a.createElement("label",{className:"col-md-3"},"Paid By : "),i.a.createElement("div",{className:"col-md-8 mb-3"},i.a.createElement("select",{className:"form-control ".concat(N.paidBy&&"is-invalid"),name:"paidBy",value:x.paidBy,onChange:y},i.a.createElement("option",{value:""},"Select ...."),w.map((function(e,t){return i.a.createElement("option",{value:e.name,key:t},e.name)}))),N.paidBy&&i.a.createElement("div",{className:"invalid-feedback"},N.paidBy))),i.a.createElement("ul",{className:"cust-chcekbox"},i.a.createElement("li",null,i.a.createElement(O.a,{onChange:function(e){return p(e,-1)},checked:h}),i.a.createElement("label",{className:"col-form-label cust-checkbox-label"},"All")),d)),i.a.createElement(g.a.Footer,null,i.a.createElement("button",{className:"btn btn-success"},"Add"),i.a.createElement("button",{className:"btn btn-secondary",onClick:e.hide},"Cancel")))};t.default=function(e){var t=Object(o.useContext)(f.b),a=Object(o.useContext)(f.c),n=Object(o.useState)(!1),s=Object(r.a)(n,2),b=s[0],g=s[1],E=Object(o.useState)(""),j=Object(r.a)(E,2),O=j[0],v=j[1],k=Object(o.useState)("0.00"),y=Object(r.a)(k,2),N=y[0],x=y[1],C=t.stateData.jwt,S=Object(o.useState)(i.a.createRef()),D=Object(r.a)(S,2),B=D[0],I=D[1],M=Object(o.useState)([]),L=Object(r.a)(M,2),F=L[0],P=L[1],z=Object(o.useState)(),A=Object(r.a)(z,2),T=A[0],U=A[1],R=Object(o.useRef)(null),H=Object(o.useState)(!1),_=Object(r.a)(H,2),G=_[0],W=_[1],J=Object(o.useState)(!1),Y=Object(r.a)(J,2),$=Y[0],q=Y[1],K=Object(o.useState)(),Q=Object(r.a)(K,2),V=Q[0],X=Q[1],Z=Object(o.useState)(null),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=[],ce=Object(o.useState)(!1),le=Object(r.a)(ce,2),re=le[0],oe=le[1];Object(o.useEffect)((function(){I(Object(m.createWorker)({logger:function(e){return ie(e)}}))}),[]),Object(o.useEffect)((function(){""!==O&&function(e){Object(d.a)("/parseBill",e,"post",C).then((function(e){var t=[];e.map((function(e){t.push({SN:e.SN,item:e.item,price:e.price})})),P(t)}))}({billText:O})}),[O]);var ie=function(e){if("recognizing text"===e.status){var t=e.progress/1*100;x(t.toFixed(2))}};function se(){return(se=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,B.load();case 3:return e.next=5,B.loadLanguage("eng");case 5:return e.next=7,B.initialize("eng");case 7:return e.next=9,B.recognize(t);case 9:a=e.sent,n=a.data.text,g(!1),v(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=F,me={mode:"checkbox",clickToSelect:!0,onSelect:function(e,t,a,n){t?ne.push(e):0!==ne.length&&(ne=ne.filter((function(t){return t.SN!==e.SN}))),console.log("from one 1",ne)},onSelectAll:function(e,t,a){e?(ne=[],ne=t):ne=[],console.log("all items",ne)}},de=Object(o.useState)({unit:"%",x:13,y:13,width:25,height:25}),fe=Object(r.a)(de,2),be=fe[0],pe=fe[1],he=Object(o.useCallback)((function(e){R.current=e}),[]);Object(o.useEffect)((function(){}),[te]);var ge=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(R.current&&t.width&&t.height)){e.next=4;break}return e.next=4,Ee(R.current,t,"newFile.jpeg");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(l.a)(c.a.mark((function e(t,a,n){var l,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=document.createElement("canvas"),r=t.naturalWidth/t.width,o=t.naturalHeight/t.height,l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(t,a.x*r,a.y*o,a.width*r,a.height*o,0,0,a.width,a.height),e.abrupt("return",new Promise((function(e,t){l.toBlob((function(e){e?(e.name=n,console.log(e),window.URL.revokeObjectURL(V),ae(e),X(window.URL.createObjectURL(e))):t(new Error("Canvas is empty"))}),"image/jpeg")})));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"App"},i.a.createElement("header",null,i.a.createElement(h.a,{mainProps:e,isDisputeDisplay:!1,callBack:function(){a.dispatch({type:"ADD",payload:C})}})),i.a.createElement("div",{className:"upload"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{style:{marginTop:"10%"},className:"row"},i.a.createElement("div",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return U(t.result)})),t.readAsDataURL(e.target.files[0])}}})),i.a.createElement("div",{className:"col-md-4"})))),i.a.createElement("div",{className:"crop"},T&&!G&&i.a.createElement("img",{alt:"selected Image",src:T,style:{maxHeight:"300px"}}),T&&!G&&i.a.createElement("input",{type:"button",value:"Crop",onClick:function(){G||W(!0)}}),G&&!$&&i.a.createElement(u.a,{src:T,onImageLoaded:he,crop:be,onChange:function(e){return pe(e)},onComplete:ge}),G&&!$&&i.a.createElement("input",{type:"button",value:"Complete",onClick:function(){$||q(!0)}}),i.a.createElement("div",null,$&&V&&i.a.createElement("img",{alt:"Crop preview",src:V,style:{maxHeight:"300px"}})),T&&i.a.createElement("input",{type:"button",value:"Submit",onClick:function(){return function(e){return se.apply(this,arguments)}(null!=te?te:T)}})),i.a.createElement("div",{className:"result"},i.a.createElement("div",null,i.a.createElement("h5",{className:"card-header text-center font-weight-bold text-uppercase py-4"},i.a.createElement("div",{style:{margin:"1%",textAlign:"left"},className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("i",{className:"fas fa-sync fa-2x "+(b?"fa-spin":"")})," ",i.a.createElement("span",{className:"status-text"},b?"Processing Image ( ".concat(N," % )"):"Bill"," "))))),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-success",onClick:function(){return oe(!0)}},"Add"),i.a.createElement(p.a,{keyField:"SN",data:ue,columns:[{dataField:"SN",text:"SN"},{dataField:"item",text:"Item Description"},{dataField:"price",text:"Item Price"}],selectRow:me}))),re&&i.a.createElement(w,{selectedItems:ne,show:re,hide:function(){return oe(!1)}}))}}}]);
//# sourceMappingURL=9.3931a9bc.chunk.js.map