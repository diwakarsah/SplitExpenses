{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Pages/service/useForm.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","Pages/service/Login&ResgisterHandler.js","Pages/loginPage.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","useForm","callBack","initialState","validate","useState","formField","setFormField","error","setError","handleOnChange","event","name","value","changeFormField","handleSubmit","preventDefault","_defineProperty","obj","configurable","writable","FetchingLoginInfo","urls","userData","method","url","Promise","resolve","reject","a","fetch","body","JSON","stringify","headers","then","response","console","log","ok","json","status","responseJson","catch","LoginPage","props","errors","sessionContext","useContext","loginContext","isLoading","setIsLoading","result","message","jwt","sessionData","username","userName","dispatch","type","payload","history","password","className","href","src","require","width","height","placeholder","onChange","required","to","onClick"],"mappings":"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","file":"static/js/10.0c2ed9d2.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, {useState} from 'react'\n\nexport const useForm = (callBack,initialState={},validate)=>{\n    const [formField,setFormField] = useState(initialState);\n    const [error,setError] = useState({});\n\n    const handleOnChange=event=>{\n        setFormField({...formField, [event.target.name]:event.target.value});\n        event.target.name && delete error[event.target.name];\n    };\n\n    const changeFormField = value=>{\n        setFormField(value);\n    };\n    const handleSubmit=event=>{\n        event.preventDefault();\n        if (Object.keys(validate(formField)).length === 0)\n        {\n            callBack(event.target.value);\n            setFormField(initialState);\n            setError({});\n        }\n        else {\n            setError(validate(formField));\n        }\n    };\n\n    return {\n        handleSubmit,\n        handleOnChange,\n        changeFormField,\n        error,\n        formField\n    }\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export function FetchingLoginInfo(urls,userData,method){\n    const url =  urls;\n    return new Promise(async (resolve,reject)=>{\n\n        try {\n            await fetch(url, {\n                method: method,\n                body: JSON.stringify(userData),\n                headers: {'Content-Type': 'application/json',}\n            }).then(response => {\n                console.log(\"resposneLogin\",response)\n                if (response.ok) {\n                    return response.json()\n\n                }\n                else if (response.status === 400) {resolve(response.json())}\n                else {resolve(response)}\n            }).then(responseJson => resolve(responseJson)).catch(error => reject(error));\n        }\n        catch (e) {\n            reject(e);\n        }\n\n    })\n\n}\n\n","import React, {useContext, useState,useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { loginContext } from './service/Contexts';\n\nimport {FetchingLoginInfo} from './service/Login&ResgisterHandler';\nimport {useForm} from \"./service/useForm\";\nimport LoaderScreen from \"./Model/LoaderScreen\";\n\n\n\nconst LoginPage = (props)=>{\n\n    let formData={userName:\"\",password:\"\"};\n\n    const [errors,setError] = useState(null);\n    const sessionContext= useContext(loginContext);\n\n    const [isLoading,setIsLoading] = useState(false);\n\n\n\n    const onLogin= (value)=>{\n        // setIsLoading(true);\n        FetchingLoginInfo('/authenticate', formField,'post').then(result => {\n                console.log(\"test\",result.message)\n                if(result.ok === false)\n                {\n                    setError(\"Username or password didn't match\");\n                    setIsLoading(false);\n\n                }\n                else if (typeof result.message === 'undefined' && typeof result.jwt !== 'undefined' ) {\n                    const sessionData = {\"jwt\":result.jwt,\"isAuthenticated\":true,username:formField.userName};\n                    sessionContext.dispatch({type:'Login',payload:sessionData});\n                    props.history.push(\"/home\")\n                }\n                else\n                {\n                    setError(result.message);\n                    setIsLoading(false);\n                }\n\n            }).catch(error=>{console.log(\"catch\",error)});\n\n    };\n\n    const validateLogin = (formField)=>{\n        let error = {};\n        if (formField.userName === \"\")\n        {\n            error.userName =\"Please enter Email\";\n        }\n        if (formField.password === \"\")\n        {\n            error.password =\"Please enter Password\";\n        }\n        return error;\n    };\n\n    const {formField,error,changeFormField,handleSubmit,handleOnChange} = useForm(onLogin, formData,validateLogin);\n\n // useEffect(()=>{console.log(\"isloading\",isLoading)},[isLoading])\n //    if(isLoading)\n //    {\n //        return <LoaderScreen />\n //    }\n\n    return(\n        <div className=\"login-form  \">\n            {isLoading?<LoaderScreen />:\n            <div className=\"form-container \">\n\n            <form>\n                <div className=\"login-header\">\n                <span className=\"login100-form-title p-b-26\">\n\t\t\t\t\t\tWelcome\n\t\t\t\t\t</span>\n                    <span className=\"login100-form-title p-b-26\"><a href=\"/\"> <img  src={require('../img/logo2.png')} width=\"95px\" height=\"95px\" /></a></span>\n                </div>\n\n                <div className=\"d-flex justify-content-center\"> <h4 className=\"modal-title\">Login to Your Account</h4></div>\n                {(errors!==null)?<p className=\"text-center text-danger small\" >{errors}</p>:null}\n                <div className=\"form-group\">\n                    <input type=\"text\"  className={`form-control ${error.userName && 'is-invalid'}`}  placeholder=\"Email\"\n                           name=\"userName\" value={formField.userName} onChange={handleOnChange}/>\n                    {error.userName &&(<div className=\"invalid-feedback\">{error.userName}</div>)}\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" name=\"password\" className={`form-control ${error.password && 'is-invalid'}`} placeholder=\"Password\"\n                           required=\"required\" value={formField.password} onChange={handleOnChange}/>\n                    {error.password &&(<div className=\"invalid-feedback\">{error.password}</div>)}\n                </div>\n                <div className=\"form-group small clearfix\">\n                    <label className=\"checkbox-inline\"><input type=\"checkbox\"/> Remember me</label>\n                    <Link to=\"#\" className=\"forgot-link\">Forgot Password?</Link>\n                </div>\n                <button type=\"button\" onClick={(event)=>{setIsLoading(true);handleSubmit(event)}} className=\"btn btn-primary btn-block btn-lg\" >Login</button>\n            </form>\n            <div className=\"text-center small\">Don't have an account? <a href=\"/SignUp\" >Sign up</a></div>\n            </div>}\n        </div>\n    );\n}\nexport default LoginPage;\n"],"sourceRoot":""}